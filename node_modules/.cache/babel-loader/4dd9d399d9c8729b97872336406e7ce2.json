{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\VolgoBox\\\\Desktop\\\\Mytube\\\\src\\\\component\\\\Login.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { firebaseInitApp } from '../base';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      uid: null,\n      name: null\n    };\n\n    this.handleAuth = async authData => {\n      this.setState({\n        uid: authData.user.uid,\n        name: authData.user.displayName\n      });\n      this.props.getUser(this.state.uid, this.state.name);\n    };\n\n    this.authenticate = () => {\n      const authProvider = new firebase.auth.GoogleAuthProvider();\n      firebaseInitApp.auth().signInWithPopup(authProvider).then(this.handleAuth);\n    };\n\n    this.logout = async () => {\n      await firebase.auth().signOut();\n      this.setState({\n        uid: null\n      });\n      this.props.disconnecte();\n    };\n  }\n\n  render() {\n    if (this.state.uid === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: this.authenticate,\n          children: \"Connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => this.logout(),\n          children: this.props.getPseudo(this.state.uid)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/VolgoBox/Desktop/Mytube/src/component/Login.js"],"names":["React","Component","firebase","firebaseInitApp","Login","state","uid","name","handleAuth","authData","setState","user","displayName","props","getUser","authenticate","authProvider","auth","GoogleAuthProvider","signInWithPopup","then","logout","signOut","disconnecte","render","getPseudo"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,SAASC,eAAT,QAA+B,SAA/B;AAGA,eAAe,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAAA;AAAA;AAAA,SAEzCI,KAFyC,GAEnC;AACFC,MAAAA,GAAG,EAAC,IADF;AAEFC,MAAAA,IAAI,EAAC;AAFH,KAFmC;;AAAA,SASzCC,UATyC,GAS5B,MAAMC,QAAN,IAAgB;AACzB,WAAKC,QAAL,CAAc;AACVJ,QAAAA,GAAG,EAAEG,QAAQ,CAACE,IAAT,CAAcL,GADT;AAEVC,QAAAA,IAAI,EAACE,QAAQ,CAACE,IAAT,CAAcC;AAFT,OAAd;AAIF,WAAKC,KAAL,CAAWC,OAAX,CAAmB,KAAKT,KAAL,CAAWC,GAA9B,EAAkC,KAAKD,KAAL,CAAWE,IAA7C;AACD,KAfwC;;AAAA,SAkBzCQ,YAlByC,GAkB5B,MAAI;AACb,YAAMC,YAAY,GAAC,IAAId,QAAQ,CAACe,IAAT,CAAcC,kBAAlB,EAAnB;AACAf,MAAAA,eAAe,CACVc,IADL,GAEKE,eAFL,CAEqBH,YAFrB,EAGKI,IAHL,CAGU,KAAKZ,UAHf;AAIH,KAxBwC;;AAAA,SA0BzCa,MA1ByC,GA0BhC,YAAU;AACf,YAAMnB,QAAQ,CAACe,IAAT,GAAgBK,OAAhB,EAAN;AACA,WAAKZ,QAAL,CAAc;AACVJ,QAAAA,GAAG,EAAC;AADM,OAAd;AAGA,WAAKO,KAAL,CAAWU,WAAX;AACH,KAhCwC;AAAA;;AAkCzCC,EAAAA,MAAM,GAAG;AACJ,QAAG,KAAKnB,KAAL,CAAWC,GAAX,KAAiB,IAApB,EAAyB;AACtB,0BACI;AAAA,+BACI;AAAG,UAAA,OAAO,EAAE,KAAKS,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAKH,KANA,MAOG;AAEA,0BACI;AAAA,+BACI;AACA,UAAA,OAAO,EAAE,MAAI,KAAKM,MAAL,EADb;AAAA,oBAGE,KAAKR,KAAL,CAAWY,SAAX,CAAqB,KAAKpB,KAAL,CAAWC,GAAhC;AAHF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AASH;AACJ;;AAtDwC","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport { firebaseInitApp} from '../base'\r\n\r\n\r\nexport default class Login extends Component {\r\n    \r\n    state={\r\n        uid:null,\r\n        name:null\r\n    }\r\n    \r\n\r\n\r\n    handleAuth = async authData=>{\r\n        this.setState({\r\n            uid: authData.user.uid,\r\n            name:authData.user.displayName\r\n        })\r\n      this.props.getUser(this.state.uid,this.state.name)\r\n    }\r\n\r\n\r\n    authenticate=()=>{\r\n        const authProvider=new firebase.auth.GoogleAuthProvider()\r\n        firebaseInitApp\r\n            .auth()\r\n            .signInWithPopup(authProvider)\r\n            .then(this.handleAuth)\r\n    }\r\n\r\n    logout = async ()=>{\r\n        await firebase.auth().signOut()\r\n        this.setState({\r\n            uid:null         \r\n        })\r\n        this.props.disconnecte();\r\n    }\r\n\r\n    render() {\r\n         if(this.state.uid===null){\r\n            return (\r\n                <div>\r\n                    <p onClick={this.authenticate}>Connexion</p>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n           \r\n            return (\r\n                <div>\r\n                    <p \r\n                    onClick={()=>this.logout()}\r\n                    >\r\n                     {this.props.getPseudo(this.state.uid)}\r\n                     </p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}